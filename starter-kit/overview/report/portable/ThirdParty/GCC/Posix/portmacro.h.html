
<html>
<head>
<title>portable/ThirdParty/GCC/Posix/portmacro.h</title>
<link rel="stylesheet" type="text/css" href="../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /*</div><div id="2" class="line none">    2  * FreeRTOS Kernel &lt;DEVELOPMENT BRANCH&gt;</div><div id="3" class="line none">    3  * Copyright 2020 Cambridge Consultants Ltd.</div><div id="4" class="line none">    4  *</div><div id="5" class="line none">    5  * SPDX-License-Identifier: MIT</div><div id="6" class="line none">    6  *</div><div id="7" class="line none">    7  * Permission is hereby granted, free of charge, to any person obtaining a copy of</div><div id="8" class="line none">    8  * this software and associated documentation files (the "Software"), to deal in</div><div id="9" class="line none">    9  * the Software without restriction, including without limitation the rights to</div><div id="10" class="line none">   10  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of</div><div id="11" class="line none">   11  * the Software, and to permit persons to whom the Software is furnished to do so,</div><div id="12" class="line none">   12  * subject to the following conditions:</div><div id="13" class="line none">   13  *</div><div id="14" class="line none">   14  * The above copyright notice and this permission notice shall be included in all</div><div id="15" class="line none">   15  * copies or substantial portions of the Software.</div><div id="16" class="line none">   16  *</div><div id="17" class="line none">   17  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div><div id="18" class="line none">   18  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS</div><div id="19" class="line none">   19  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR</div><div id="20" class="line none">   20  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER</div><div id="21" class="line none">   21  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</div><div id="22" class="line none">   22  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div id="23" class="line none">   23  *</div><div id="24" class="line none">   24  * https://www.FreeRTOS.org</div><div id="25" class="line none">   25  * https://github.com/FreeRTOS</div><div id="26" class="line none">   26  *</div><div id="27" class="line none">   27  */</div><div id="28" class="line none">   28 </div><div id="29" class="line none">   29 </div><div id="30" class="line none">   30 #ifndef <a href="portmacro.h.html#31">PORTMACRO_H</a></div><div id="31" class="line none">   31 #define <a href="portmacro.h.html#31">PORTMACRO_H</a></div><div id="32" class="line none">   32 </div><div id="33" class="line none">   33 #ifdef __cplusplus</div><div id="34" class="line none">   34 extern "C" {</div><div id="35" class="line none">   35 #endif</div><div id="36" class="line none">   36 </div><div id="37" class="line none">   37 #include &lt;limits.h&gt;</div><div id="38" class="line none">   38 </div><div id="39" class="line none">   39 /*-----------------------------------------------------------</div><div id="40" class="line none">   40  * Port specific definitions.</div><div id="41" class="line none">   41  *</div><div id="42" class="line none">   42  * The settings in this file configure FreeRTOS correctly for the</div><div id="43" class="line none">   43  * given hardware and compiler.</div><div id="44" class="line none">   44  *</div><div id="45" class="line none">   45  * These settings should not be altered.</div><div id="46" class="line none">   46  *-----------------------------------------------------------</div><div id="47" class="line none">   47  */</div><div id="48" class="line none">   48 </div><div id="49" class="line none">   49 /* Type definitions. */</div><div id="50" class="line none">   50 #define <a href="portmacro.h.html#50">portCHAR</a>                char</div><div id="51" class="line none">   51 #define <a href="portmacro.h.html#51">portFLOAT</a>               float</div><div id="52" class="line none">   52 #define <a href="portmacro.h.html#52">portDOUBLE</a>              double</div><div id="53" class="line none">   53 #define <a href="portmacro.h.html#53">portLONG</a>                long</div><div id="54" class="line none">   54 #define <a href="portmacro.h.html#54">portSHORT</a>               short</div><div id="55" class="line none">   55 #define <a href="portmacro.h.html#55">portSTACK_TYPE</a>  unsigned long</div><div id="56" class="line none">   56 #define <a href="portmacro.h.html#56">portBASE_TYPE</a>   long</div><div id="57" class="line none">   57 #define <a href="portmacro.h.html#57">portPOINTER_SIZE_TYPE</a> intptr_t</div><div id="58" class="line none">   58 </div><div id="59" class="line none">   59 typedef <a href="portmacro.h.html#55">portSTACK_TYPE</a> <a href="portmacro.h.html#59">StackType_t</a>;</div><div id="60" class="line none">   60 typedef long <a href="portmacro.h.html#60">BaseType_t</a>;</div><div id="61" class="line none">   61 typedef unsigned long <a href="portmacro.h.html#61">UBaseType_t</a>;</div><div id="62" class="line none">   62 </div><div id="63" class="line none">   63 typedef unsigned long <a href="portmacro.h.html#63">TickType_t</a>;</div><div id="64" class="line none">   64 #define <a href="portmacro.h.html#64">portMAX_DELAY</a> ( <a href="portmacro.h.html#63">TickType_t</a> ) ULONG_MAX</div><div id="65" class="line none">   65 </div><div id="66" class="line none">   66 #define <a href="portmacro.h.html#66">portTICK_TYPE_IS_ATOMIC</a> 1</div><div id="67" class="line none">   67 </div><div id="68" class="line none">   68 /*-----------------------------------------------------------*/</div><div id="69" class="line none">   69 </div><div id="70" class="line none">   70 /* Architecture specifics. */</div><div id="71" class="line none">   71 #define <a href="portmacro.h.html#71">portSTACK_GROWTH</a>                        ( -1 )</div><div id="72" class="line none">   72 #define <a href="../../../../include/portable.h.html#81">portHAS_STACK_OVERFLOW_CHECKING</a> ( 1 )</div><div id="73" class="line none">   73 #define <a href="portmacro.h.html#73">portTICK_PERIOD_MS</a>                      ( ( <a href="portmacro.h.html#63">TickType_t</a> ) 1000 / configTICK_RATE_HZ )</div><div id="74" class="line none">   74 #define <a href="portmacro.h.html#74">portTICK_RATE_MICROSECONDS</a>      ( ( portTickType ) 1000000 / configTICK_RATE_HZ )</div><div id="75" class="line none">   75 #define <a href="portmacro.h.html#75">portBYTE_ALIGNMENT</a>                      8</div><div id="76" class="line none">   76 /*-----------------------------------------------------------*/</div><div id="77" class="line none">   77 </div><div id="78" class="line none">   78 /* Scheduler utilities. */</div><div id="79" class="line none">   79 extern void vPortYield( void );</div><div id="80" class="line none">   80 </div><div id="81" class="line none">   81 #define <a href="portmacro.h.html#81">portYIELD</a>() vPortYield()</div><div id="82" class="line none">   82 </div><div id="83" class="line none">   83 #define <a href="portmacro.h.html#83">portEND_SWITCHING_ISR</a>( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) vPortYield()</div><div id="84" class="line none">   84 #define <a href="portmacro.h.html#84">portYIELD_FROM_ISR</a>( x ) <a href="portmacro.h.html#83">portEND_SWITCHING_ISR</a>( x )</div><div id="85" class="line none">   85 /*-----------------------------------------------------------*/</div><div id="86" class="line none">   86 </div><div id="87" class="line none">   87 /* Critical section management. */</div><div id="88" class="line none">   88 extern void vPortDisableInterrupts( void );</div><div id="89" class="line none">   89 extern void vPortEnableInterrupts( void );</div><div id="90" class="line none">   90 #define <a href="portmacro.h.html#90">portSET_INTERRUPT_MASK</a>()        ( vPortDisableInterrupts() )</div><div id="91" class="line none">   91 #define <a href="portmacro.h.html#91">portCLEAR_INTERRUPT_MASK</a>()      ( vPortEnableInterrupts() )</div><div id="92" class="line none">   92 </div><div id="93" class="line none">   93 extern <a href="portmacro.h.html#56">portBASE_TYPE</a> xPortSetInterruptMask( void );</div><div id="94" class="line none">   94 extern void vPortClearInterruptMask( <a href="portmacro.h.html#56">portBASE_TYPE</a> xMask );</div><div id="95" class="line none">   95 </div><div id="96" class="line none">   96 extern void <a href="portmacro.h.html#96">vPortEnterCritical</a>( void );</div><div id="97" class="line none">   97 extern void <a href="portmacro.h.html#97">vPortExitCritical</a>( void );</div><div id="98" class="line none">   98 #define <a href="portmacro.h.html#98">portSET_INTERRUPT_MASK_FROM_ISR</a>()               xPortSetInterruptMask()</div><div id="99" class="line none">   99 #define <a href="portmacro.h.html#99">portCLEAR_INTERRUPT_MASK_FROM_ISR</a>(x)    vPortClearInterruptMask(x)</div><div id="100" class="line none">  100 #define <a href="portmacro.h.html#100">portDISABLE_INTERRUPTS</a>()                                <a href="portmacro.h.html#90">portSET_INTERRUPT_MASK</a>()</div><div id="101" class="line none">  101 #define <a href="portmacro.h.html#101">portENABLE_INTERRUPTS</a>()                                 <a href="portmacro.h.html#91">portCLEAR_INTERRUPT_MASK</a>()</div><div id="102" class="line none">  102 #define <a href="portmacro.h.html#102">portENTER_CRITICAL</a>()                                    <a href="portmacro.h.html#96">vPortEnterCritical</a>()</div><div id="103" class="line none">  103 #define <a href="portmacro.h.html#103">portEXIT_CRITICAL</a>()                                             <a href="portmacro.h.html#97">vPortExitCritical</a>()</div><div id="104" class="line none">  104 </div><div id="105" class="line none">  105 /*-----------------------------------------------------------*/</div><div id="106" class="line none">  106 </div><div id="107" class="line none">  107 extern void vPortThreadDying( void *pxTaskToDelete, volatile <a href="portmacro.h.html#60">BaseType_t</a> *pxPendYield );</div><div id="108" class="line none">  108 extern void vPortCancelThread( void *pxTaskToDelete );</div><div id="109" class="line none">  109 #define <a href="portmacro.h.html#109">portPRE_TASK_DELETE_HOOK</a>( pvTaskToDelete, pxPendYield ) vPortThreadDying( ( pvTaskToDelete ), ( pxPendYield ) )</div><div id="110" class="line none">  110 #define <a href="portmacro.h.html#110">portCLEAN_UP_TCB</a>( pxTCB )       vPortCancelThread( pxTCB )</div><div id="111" class="line none">  111 /*-----------------------------------------------------------*/</div><div id="112" class="line none">  112 </div><div id="113" class="line none">  113 #define <a href="portmacro.h.html#113">portTASK_FUNCTION_PROTO</a>( vFunction, <a href="../../../../include/task.h.html#143">pvParameters</a> ) void vFunction( void *<a href="../../../../include/task.h.html#143">pvParameters</a> )</div><div id="114" class="line none">  114 #define <a href="portmacro.h.html#114">portTASK_FUNCTION</a>( vFunction, <a href="../../../../include/task.h.html#143">pvParameters</a> ) void vFunction( void *<a href="../../../../include/task.h.html#143">pvParameters</a> )</div><div id="115" class="line none">  115 /*-----------------------------------------------------------*/</div><div id="116" class="line none">  116 </div><div id="117" class="line none">  117 /*</div><div id="118" class="line none">  118  * Tasks run in their own pthreads and context switches between them</div><div id="119" class="line none">  119  * are always a full memory barrier. ISRs are emulated as signals</div><div id="120" class="line none">  120  * which also imply a full memory barrier.</div><div id="121" class="line none">  121  *</div><div id="122" class="line none">  122  * Thus, only a compilier barrier is needed to prevent the compiler</div><div id="123" class="line none">  123  * reordering.</div><div id="124" class="line none">  124  */</div><div id="125" class="line none">  125 #define <a href="portmacro.h.html#125">portMEMORY_BARRIER</a>() __asm volatile( "" ::: "memory" )</div><div id="126" class="line none">  126 </div><div id="127" class="line none">  127 extern unsigned long ulPortGetRunTime( void );</div><div id="128" class="line none">  128 #define <a href="portmacro.h.html#128">portCONFIGURE_TIMER_FOR_RUN_TIME_STATS</a>() /* no-op */</div><div id="129" class="line none">  129 #define <a href="portmacro.h.html#129">portGET_RUN_TIME_COUNTER_VALUE</a>()         ulPortGetRunTime()</div><div id="130" class="line none">  130 </div><div id="131" class="line none">  131 #ifdef __cplusplus</div><div id="132" class="line none">  132 }</div><div id="133" class="line none">  133 #endif</div><div id="134" class="line none">  134 </div><div id="135" class="line none">  135 #endif /* PORTMACRO_H */</div>
</div>
</body>
</html>
